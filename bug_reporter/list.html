<!DOCTYPE html>
<html lang="KO">
	<head>
		<title>저장된 리포트 목록</title>
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="css/list.css" />

		<style></style>
	</head>
	<body>
		<div class="header">
			<h1>저장된 리포트 목록</h1>
			<div class="search-container">
				<input type="search" id="searchInput" placeholder="키워드로 검색..." />
				<div class="dropdown">
					<button id="exportBtn" class="dropdown-toggle">내보내기 ▾</button>
					<div class="dropdown-menu" id="exportMenu">
						<a href="#" data-format="excel" data-export-type="current"
							>현재 목록 내보내기</a
						>
						<a href="#" data-format="excel" data-export-type="new"
							>신규 항목 내보내기</a
						>
						<a href="#" data-format="excel" data-export-type="all"
							>전체 항목 내보내기</a
						>
						<hr />
						<a
							href="#"
							data-format="google-sheet"
							data-export-type="current"
							style="color: #999"
							>현재 목록 (Google Sheet)</a
						>
					</div>
				</div>
			</div>
		</div>
		<div
			style="
				text-align: right;
				margin: -1em 0 1em;
				font-size: 0.8em;
				color: #555;
			">
			마지막 내보내기: <span id="lastExportTime">없음</span>
		</div>
		<div class="filter-container" id="statusFilters"></div>
		<p class="sort-options">
			<button id="sortAscBtn" class="active">캡처일시 오름차순</button>
			<button id="sortDescBtn">캡처일시 내림차순</button>
		</p>
		<table>
			<thead>
				<tr>
					<th class="col-no" width="3%">번호</th>
					<!-- <th class="col-no" width="5%">UUID</th> -->
					<th class="col-date" width="7%">캡처일시</th>
					<th class="col-category" width="5%">분류</th>
					<th class="col-title" width="10%">타이틀</th>
					<th class="col-asis">문제점 기술</th>
					<th class="col-tobe">원하는 결과</th>
					<th class="col-url" width="10%">url</th>
					<th class="col-manage" width="8%">관리</th>
					<th class="col-status" width="5%">상태</th>
				</tr>
			</thead>
			<tbody id="report-table-body"></tbody>
		</table>
		<p id="no-reports" style="display: none">저장된 리포트가 없습니다.</p>

		<div id="editModal" class="modal">
			<div class="modal-content">
				<span class="close-btn">&times;</span>
				<h2>리포트 상세 및 수정</h2>
				<div class="modal-body">
					<div class="modal-image-panel">
						<img id="modalImage" alt="Captured Image" />
					</div>
					<div class="modal-form-panel">
						<input type="hidden" id="modalReportId" />
						<div class="form-group">
							<label for="pageUrl">페이지 URL</label>
							<input type="text" id="pageUrl" disabled />
						</div>
						<div class="form-group">
							<label for="captureTime">캡처 시간</label>
							<input type="text" id="captureTime" disabled />
						</div>
						<div class="form-group">
							<label for="channel">채널</label>
							<select id="channel">
								<option value="joonLab">준랩</option>
								<option value="joonChart">준차트</option>
								<option value="tiom">TIOM</option>
							</select>
						</div>
						<div class="form-group">
							<label for="menu">메뉴</label>
							<select id="menu">
								<option value="dashboard">대시보드</option>
								<option value="member">회원관리</option>
								<option value="question">문항관리</option>
								<option value="medicinal">약재관리</option>
								<option value="prescription">처방전관리</option>
								<option value="constitution">체질관리</option>
								<option value="protocol">프로토콜관리</option>
								<option value="individual">개별증례</option>
								<option value="stats">통계/로그</option>
								<option value="today">투데이</option>
								<option value="treatment">진료하기</option>
								<option value="medicine">첩약관리</option>
								<option value="patients">환자관리</option>
								<option value="settings">설정</option>
								<option value="etc">기타</option>
							</select>
						</div>
						<div class="form-group">
							<label for="modalCategory">분류</label
							><select id="modalCategory">
								<option value="BUG">버그</option>
								<option value="개선">개선</option>
								<option value="단순">UI</option>
							</select>
						</div>
						<div class="form-group">
							<label for="modalTitle">제목</label
							><input type="text" id="modalTitle" />
						</div>
						<div class="form-group">
							<label for="modalProblem">문제점 기술</label
							><textarea id="modalProblem"></textarea>
						</div>
						<div class="form-group">
							<label for="modalExpected">원하는 결과</label
							><textarea id="modalExpected"></textarea>
						</div>
						<button id="modalSaveBtn">변경사항 저장</button>
					</div>
				</div>
			</div>
		</div>

		<script src="list.js" type="module"></script>
		<script src="libs/xlsx.full.min.js" type="module"></script>
		<script src="libs/jszip.min.js" type="module"></script>
	</body>
</html>
