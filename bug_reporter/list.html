<!DOCTYPE html>
<html lang="KO">
	<head>
		<title>저장된 리포트 목록</title>
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="css/list.css" />
		<script src="./xlsx.full.min.js"></script>
		<script src="./jszip.min.js"></script>

		<style></style>
	</head>
	<body>
		<div class="header">
			<h1>저장된 리포트 목록</h1>
			<div class="search-container">
				<input type="search" id="searchInput" placeholder="키워드로 검색..." />
				<div class="dropdown">
					<button id="exportBtn" class="dropdown-toggle">내보내기 ▾</button>
					<div class="dropdown-menu" id="exportMenu">
						<a href="#" data-format="excel" data-export-type="current"
							>현재 목록 내보내기</a
						>
						<a href="#" data-format="excel" data-export-type="new"
							>신규 항목 내보내기</a
						>
						<a href="#" data-format="excel" data-export-type="all"
							>전체 항목 내보내기</a
						>
						<hr />
						<a
							href="#"
							data-format="google-sheet"
							data-export-type="current"
							style="color: #999"
							>현재 목록 (Google Sheet)</a
						>
					</div>
				</div>
			</div>
		</div>
		<div
			style="
				text-align: right;
				margin: -1em 0 1em;
				font-size: 0.8em;
				color: #555;
			">
			마지막 내보내기: <span id="lastExportTime">없음</span>
		</div>
		<div class="filter-container" id="statusFilters"></div>
		<table>
			<thead>
				<tr>
					<th class="col-no">번호</th>
					<th class="col-date">캡처일자</th>
					<th class="col-category">분류</th>
					<th class="col-title">타이틀</th>
					<th class="col-problem">문제점 기술</th>
					<th class="col-manage">관리</th>
					<th class="col-status">상태</th>
				</tr>
			</thead>
			<tbody id="report-table-body"></tbody>
		</table>
		<p id="no-reports" style="display: none">저장된 리포트가 없습니다.</p>

		<div id="editModal" class="modal">
			<div class="modal-content">
				<span class="close-btn">&times;</span>
				<h2>리포트 상세 및 수정</h2>
				<div class="modal-body">
					<div class="modal-image-panel">
						<img id="modalImage" alt="Captured Image" />
					</div>
					<div class="modal-form-panel">
						<input type="hidden" id="modalReportId" />
						<div class="form-group">
							<label for="modalCategory">분류</label
							><select id="modalCategory">
								<option value="function">기능 오류</option>
								<option value="usability">사용성 개선</option>
								<option value="ui">UI 깨짐</option>
								<option value="typo">오탈자</option>
							</select>
						</div>
						<div class="form-group">
							<label for="modalTitle">제목</label
							><input type="text" id="modalTitle" />
						</div>
						<div class="form-group">
							<label for="modalProblem">문제점 기술</label
							><textarea id="modalProblem"></textarea>
						</div>
						<div class="form-group">
							<label for="modalExpected">원하는 결과</label
							><textarea id="modalExpected"></textarea>
						</div>
						<button id="modalSaveBtn">변경사항 저장</button>
					</div>
				</div>
			</div>
		</div>

		<script type="module" src="list.js"></script>
	</body>
</html>
